import { APIClient, ClientOptions } from "@fonoster/common";
import { CreateTokenRequest, CreateTokenResponse, IAuthClient, ValidateTokenRequest } from "./types";
import AuthPB from "../service/protos/auth_pb";
/**
 * @classdesc Use Fonoster Auth, a capability of Fonoster,
 * to validate and create short life tokens.
 *
 * @extends APIClient
 * @example
 *
 * const request = {
 *   accessKeyId: "US618572e3ec11d10600000001",
 *   roleName: "USER"
 * };
 *
 * auth.createToken(request)
 * .then(console.log)       // returns an object with the token
 * .catch(console.error);   // an error occurred
 */
export default class Auths extends APIClient implements IAuthClient {
    /**
     * Constructs a new Auth object.
     * @param {ClientOptions} options - Options to indicate the objects endpoint
     * @see module:core:APIClient
     */
    constructor(options?: ClientOptions);
    /**
     * Creates a short-life token. The client must have role allowed to create
     * tokens.
     *
     * @param {CreateTokenRequest} request - Request to create a new token
     * @param {string} request.accessKeyId - Path to the function
     * @param {string} request.expiration - Longevity of the token
     * @param {string} request.roleName - Role assigned to the token
     * @return {Promise<CreateTokenResponse>}
     * @example
     *
     * const Fonoster = require("@fonoster/sdk");
     * const auth = new Fonoster.Auth();
     *
     * const request = {
     *   accessKeyId: "PJ618572e3ec11d10600000001",
     *   roleName: "SERVICE",
     *   expiration: "10m"
     * };
     *
     * auth.createToken(request)
     *  .then(console.log)       // returns an object with the token
     *  .catch(console.error);   // an error occurred
     */
    createToken(request: CreateTokenRequest): Promise<CreateTokenResponse>;
    /**
     * Creates a short-life token meant only to serve as a signature. This token will
     * only be useful to sign a request.
     *
     * @param {CreateTokenRequest} request - Request to create a new signature token
     * @param {string} request.accessKeyId - Path to the function
     * @return {Promise<CreateTokenResponse>}
     * @example
     *
     * const Fonoster = require("@fonoster/sdk");
     * const auth = new Fonoster.Auth();
     *
     * const request = {
     *   accessKeyId: "PJ619154d081467a0700000001",
     * };
     *
     * auth.createNoAccessToken(request)
     *  .then(console.log)       // returns an object with the token
     *  .catch(console.error);   // an error occurred
     */
    createNoAccessToken(request: CreateTokenRequest): Promise<CreateTokenResponse>;
    /**
     * Checks if a give token was issue by the system.
     *
     * @param {CreateTokValidateTokenRequestenRequest} request - Request to verify the validity of a token
     * @param {string} request.token - Path to the function.
     * @return {Promise<boolean>}
     * @example
     *
     * const Fonoster = require("@fonoster/sdk");
     * const auth = new Fonoster.Auth();
     *
     * const request = {
     *   token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
     * };
     *
     * auth.validateToken(request)
     *  .then(console.log)       // returns `true` or `false`
     *  .catch(console.error);   // an error occurred
     */
    validateToken(request: ValidateTokenRequest): Promise<boolean>;
}
export { AuthPB, IAuthClient };
