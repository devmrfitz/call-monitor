import { APIClient, ClientOptions } from "@fonoster/common";
import CallManagerPB from "../service/protos/callmanager_pb";
import { CallRequest, CallResponse, ICallManagerClient } from "./types";
/**
 * @classdesc Use Fonoster CallManager, a capability of Fonoster CallManager,
 * to initiate and monitor automated calls. Fonoster CallManager requires of a
 * running Fonoster deployment.
 *
 * @extends APIClient
 * @example
 *
 * const Fonoster = require("@fonoster/sdk")
 * const callManager = new Fonoster.CallManager()
 *
 * callManager.call({
 *   from: "9102104343",
 *   to: "17853178070",
 *   webhook: "https://https://071e-47-132-137-75.ngrok.io/voiceapp",
 * })
 * .then(console.log)        // successful response
 * .catch(console.error)   // an error occurred
 */
export default class CallManager extends APIClient implements ICallManagerClient {
    /**
     * Constructs a new CallManager Object.
     *
     * @see module:core:APIClient
     */
    constructor(options?: ClientOptions);
    /**
     * Call method.
     *
     * @param {CallRequest} request - Call request options
     * @param {string} request.from - Number you are calling from. You must have this Number configured in your account
     * @param {string} request.to - The callee
     * @param {string} request.webhook - Url of the application that will handle the call
     * If none is provided it will use the webook setup in the Number
     * @param {object} request.metadata - Arbitrary payload to send to the Voice Application
     * @return {Promise<CallResponse>} - call results
     * @throws if the from number doesn't exist
     * @throws if could not connect to the underline services
     * @example
     *
     * callManager.call({
     *   from: "+19102104343",
     *   to: "+17853178070",
     *   webhook: "https://voiceapps.acme.com/myvoiceapp",
     *   metadata?: {}
     * })
     * .then(console.log)         // successful response
     * .catch(console.error);     // an error occurred
     */
    call(request: CallRequest): Promise<CallResponse>;
}
export { CallManagerPB, ICallManagerClient };
